(function(Drupal,$){"use strict";$.authcache_cookie=function(name,value,lifetime){lifetime=(typeof lifetime==='undefined')?Drupal.settings.authcache.cl:lifetime;$.cookie(name,value,$.extend(Drupal.settings.authcache.cp,{expires:lifetime}))}}(Drupal,jQuery));;/*})'"*/
(function($){Drupal.behaviors.CToolsAutoSubmit={attach:function(context){function triggerSubmit(e){if($.contains(document.body,this)){var $this=$(this);if(!$this.hasClass('ctools-ajaxing'))$this.find('.ctools-auto-submit-click').click()}};$('form.ctools-auto-submit-full-form',context).add('.ctools-auto-submit',context).filter('form, select, input:not(:text, :submit)').once('ctools-auto-submit').change(function(e){if($(e.target).is(':not(:text, :submit, .ctools-auto-submit-exclude)'))triggerSubmit.call(e.target.form)});var discardKeyCode=[16,17,18,20,33,34,35,36,37,38,39,40,9,13,27];$('.ctools-auto-submit-full-form input:text, input:text.ctools-auto-submit',context).filter(':not(.ctools-auto-submit-exclude)').once('ctools-auto-submit',function(){var timeoutID=0;$(this).bind('keydown keyup',function(e){if($.inArray(e.keyCode,discardKeyCode)===-1)timeoutID&&clearTimeout(timeoutID)}).keyup(function(e){if($.inArray(e.keyCode,discardKeyCode)===-1)timeoutID=setTimeout($.proxy(triggerSubmit,this.form),500)}).bind('change',function(e){if($.inArray(e.keyCode,discardKeyCode)===-1)timeoutID=setTimeout($.proxy(triggerSubmit,this.form),500)})})}}})(jQuery);;/*})'"*/
(function(d,id){if(!window.flowbox){var f=function(){f.q.push(arguments)};f.q=[];window.flowbox=f};if(d.getElementById(id))return;var s=d.createElement('script'),fjs=d.scripts[d.scripts.length-1];s.id=id;s.async=true;s.src=' https://connect.getflowbox.com/flowbox.js';fjs.parentNode.insertBefore(s,fjs)})(document,'flowbox-js-embed');;/*})'"*/
(function($,Drupal){Drupal.behaviors.Flowbox={attach:function(context,settings){var flowbox_key=settings.flowbox.flowbox_key;window.flowbox('init',{container:'#js-flowbox-feed',key:flowbox_key});$('.js-flowbox-tag').click(function(){$('.js-flowbox-tag').removeClass('active');$(this).addClass('active');var activeTag=$(this).data('tag');window.flowbox('update',{key:flowbox_key,tags:activeTag})})}}})(jQuery,Drupal);;/*})'"*/
(function($){Drupal.FieldGroup=Drupal.FieldGroup||{};Drupal.FieldGroup.Effects=Drupal.FieldGroup.Effects||{};Drupal.FieldGroup.groupWithfocus=null;Drupal.FieldGroup.setGroupWithfocus=function(element){element.css({display:'block'});Drupal.FieldGroup.groupWithfocus=element};Drupal.FieldGroup.Effects.processFieldset={execute:function(context,settings,type){if(type=='form')$('fieldset.fieldset',context).once('fieldgroup-effects',function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$('legend span.fieldset-legend',$(this)).eq(0).append(' ').append($('.form-required').eq(0).clone());if($('.error',$(this)).length){$('legend span.fieldset-legend',$(this)).eq(0).addClass('error');Drupal.FieldGroup.setGroupWithfocus($(this))}})}};Drupal.FieldGroup.Effects.processAccordion={execute:function(context,settings,type){$('div.field-group-accordion-wrapper',context).once('fieldgroup-effects',function(){var wrapper=$(this),active_index=false;wrapper.find('.accordion-item').each(function(i){if($(this).hasClass('field-group-accordion-active'))active_index=i});wrapper.accordion({heightStyle:"content",active:active_index,collapsible:true,changestart:function(event,ui){if($(this).hasClass('effect-none')){ui.options.animated=false}else ui.options.animated='slide'}});if(type=='form'){var $firstErrorItem=false;wrapper.find('div.field-group-accordion-item').each(function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$('h3.ui-accordion-header a').eq(i).append(' ').append($('.form-required').eq(0).clone());if($('.error',$(this)).length){if(!$firstErrorItem)$firstErrorItem=$(this).parent().accordion("activate",i);$('h3.ui-accordion-header').eq(i).addClass('error')}});if(!$firstErrorItem)$('.ui-accordion-content-active',$firstErrorItem).css({height:'auto',width:'auto',display:'block'})}})}};Drupal.FieldGroup.Effects.processHtabs={execute:function(context,settings,type){if(type=='form')$('fieldset.horizontal-tabs-pane',context).once('fieldgroup-effects',function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$(this).data('horizontalTab').link.find('strong:first').after($('.form-required').eq(0).clone()).after(' ');if($('.error',$(this)).length){$(this).data('horizontalTab').link.parent().addClass('error');Drupal.FieldGroup.setGroupWithfocus($(this));$(this).data('horizontalTab').focus()}})}};Drupal.FieldGroup.Effects.processTabs={execute:function(context,settings,type){if(type=='form'){var errorFocussed=false;$('fieldset.vertical-tabs-pane',context).once('fieldgroup-effects',function(i){if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$(this).data('verticalTab').link.find('strong:first').after($('.form-required').eq(0).clone()).after(' ');if($('.error',$(this)).length){$(this).data('verticalTab').link.parent().addClass('error');if(!errorFocussed){Drupal.FieldGroup.setGroupWithfocus($(this));$(this).data('verticalTab').focus();errorFocussed=true}}})}}};Drupal.FieldGroup.Effects.processDiv={execute:function(context,settings,type){$('div.collapsible',context).once('fieldgroup-effects',function(){var $wrapper=$(this),$toggler=$('span.field-group-format-toggler:first',$wrapper),$link=$('<a class="field-group-format-title" href="#"></a>');$link.prepend($toggler.contents());if($(this).is('.required-fields')&&$(this).find('.form-required').length>0)$link.append(' ').append($('.form-required').eq(0).clone());$link.appendTo($toggler);$link.click(function(){var wrapper=$wrapper.get(0);if(!wrapper.animating){wrapper.animating=true;var speed=$wrapper.hasClass('speed-fast')?300:1e3;if($wrapper.hasClass('effect-none')&&$wrapper.hasClass('speed-none')){$('> .field-group-format-wrapper',wrapper).toggle()}else if($wrapper.hasClass('effect-blind')){$('> .field-group-format-wrapper',wrapper).toggle('blind',{},speed)}else $('> .field-group-format-wrapper',wrapper).toggle(speed);wrapper.animating=false};$wrapper.toggleClass('collapsed');return false})})}};Drupal.behaviors.fieldGroup={attach:function(context,settings){settings.field_group=settings.field_group||Drupal.settings.field_group;if(settings.field_group==undefined)return;$.each(Drupal.FieldGroup.Effects,function(func){var type=func.toLowerCase().replace("process","");if(settings.field_group[type]!=undefined&&$.isFunction(this.execute))this.execute(context,settings,settings.field_group[type])});$('.fieldset-wrapper .fieldset > legend').css({display:'block'});$('.vertical-tabs fieldset.fieldset').addClass('default-fallback');$('.group-wrapper .horizontal-tabs-panes > fieldset',context).once('group-wrapper-panes-processed',function(){var fieldgroupID='field_group-'+$(this).attr('id');$(this).attr('id',fieldgroupID)});$('.group-wrapper ul li').once('group-wrapper-ul-processed',function(){var fieldGroupNavigationListIndex=$(this).index();$(this).children('a').click(function(){var fieldset=$('.group-wrapper fieldset').get(fieldGroupNavigationListIndex),hashUrl=$(fieldset).attr('id').replace(/^field_group-/,'').split(' ')[0];window.location.hash=hashUrl})})}}})(jQuery);;/*})'"*/
(function($){Drupal.progressBar=function(id,updateCallback,method,errorCallback){var pb=this;this.id=id;this.method=method||'GET';this.updateCallback=updateCallback;this.errorCallback=errorCallback;this.element=$('<div class="progress-wrapper" aria-live="polite"></div>');this.element.html('<div id ="'+id+'" class="progress progress-striped active"><div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"><div class="percentage sr-only"></div></div></div></div><div class="percentage pull-right"></div><div class="message">&nbsp;</div>')};Drupal.progressBar.prototype.setProgress=function(percentage,message){if(percentage>=0&&percentage<=100){$('div.progress-bar',this.element).css('width',percentage+'%');$('div.progress-bar',this.element).attr('aria-valuenow',percentage);$('div.percentage',this.element).html(percentage+'%')};$('div.message',this.element).html(message);if(this.updateCallback)this.updateCallback(percentage,message,this)};Drupal.progressBar.prototype.startMonitoring=function(uri,delay){this.delay=delay;this.uri=uri;this.sendPing()};Drupal.progressBar.prototype.stopMonitoring=function(){clearTimeout(this.timer);this.uri=null};Drupal.progressBar.prototype.sendPing=function(){if(this.timer)clearTimeout(this.timer);if(this.uri){var pb=this;$.ajax({type:this.method,url:this.uri,data:'',dataType:'json',success:function(progress){if(progress.status==0){pb.displayError(progress.data);return};pb.setProgress(progress.percentage,progress.message);pb.timer=setTimeout(function(){pb.sendPing()},pb.delay)},error:function(xmlhttp){pb.displayError(Drupal.ajaxError(xmlhttp,pb.uri))}})}};Drupal.progressBar.prototype.displayError=function(string){var error=$('<div class="alert alert-block alert-error"><a class="close" data-dismiss="alert" href="#">&times;</a><h4>Error message</h4></div>').append(string);$(this.element).before(error).hide();if(this.errorCallback)this.errorCallback(this)}})(jQuery);;/*})'"*/
(function($){Drupal.CTools=Drupal.CTools||{};Drupal.CTools.Modal=Drupal.CTools.Modal||{};Drupal.CTools.Modal.show=function(choice){var opts={};if(choice&&typeof choice=='string'&&Drupal.settings[choice]){$.extend(true,opts,Drupal.settings[choice])}else if(choice)$.extend(true,opts,choice);var defaults={modalTheme:'CToolsModalDialog',throbberTheme:'CToolsModalThrobber',animation:'show',animationSpeed:'fast',modalSize:{type:'scale',width:.8,height:.8,addWidth:0,addHeight:0,contentRight:25,contentBottom:45},modalOptions:{opacity:.55,background:'#fff'},modalClass:'default'},settings={};$.extend(true,settings,defaults,Drupal.settings.CToolsModal,opts);if(Drupal.CTools.Modal.currentSettings&&Drupal.CTools.Modal.currentSettings!=settings){Drupal.CTools.Modal.modal.remove();Drupal.CTools.Modal.modal=null};Drupal.CTools.Modal.currentSettings=settings;var resize=function(e){var context=e?document:Drupal.CTools.Modal.modal;if(Drupal.CTools.Modal.currentSettings.modalSize.type=='scale'){var width=$(window).width()*Drupal.CTools.Modal.currentSettings.modalSize.width,height=$(window).height()*Drupal.CTools.Modal.currentSettings.modalSize.height}else{var width=Drupal.CTools.Modal.currentSettings.modalSize.width,height=Drupal.CTools.Modal.currentSettings.modalSize.height};$('div.ctools-modal-content',context).css({width:width+Drupal.CTools.Modal.currentSettings.modalSize.addWidth+'px',height:height+Drupal.CTools.Modal.currentSettings.modalSize.addHeight+'px'});$('div.ctools-modal-content .modal-content',context).css({width:(width-Drupal.CTools.Modal.currentSettings.modalSize.contentRight)+'px',height:(height-Drupal.CTools.Modal.currentSettings.modalSize.contentBottom)+'px'})};if(!Drupal.CTools.Modal.modal){Drupal.CTools.Modal.modal=$(Drupal.theme(settings.modalTheme));if(settings.modalSize.type=='scale')$(window).bind('resize',resize)};resize();$('span.modal-title',Drupal.CTools.Modal.modal).html(Drupal.CTools.Modal.currentSettings.loadingText);Drupal.CTools.Modal.modalContent(Drupal.CTools.Modal.modal,settings.modalOptions,settings.animation,settings.animationSpeed,settings.modalClass);$('#modalContent .modal-content').html(Drupal.theme(settings.throbberTheme)).addClass('ctools-modal-loading');$('#modalContent .modal-content').delegate('input.form-autocomplete','keyup',function(){$('#autocomplete').css('top',$(this).position().top+$(this).outerHeight()+$(this).offsetParent().filter('#modal-content').scrollTop())})};Drupal.CTools.Modal.dismiss=function(){if(Drupal.CTools.Modal.modal)Drupal.CTools.Modal.unmodalContent(Drupal.CTools.Modal.modal)};Drupal.theme.prototype.CToolsModalDialog=function(){var html='';html+='<div id="ctools-modal">';html+='  <div class="ctools-modal-content">';html+='    <div class="modal-header">';html+='      <a class="close" href="#">';html+=Drupal.CTools.Modal.currentSettings.closeText+Drupal.CTools.Modal.currentSettings.closeImage;html+='      </a>';html+='      <span id="modal-title" class="modal-title">&nbsp;</span>';html+='    </div>';html+='    <div id="modal-content" class="modal-content">';html+='    </div>';html+='  </div>';html+='</div>';return html};Drupal.theme.prototype.CToolsModalThrobber=function(){var html='';html+='<div id="modal-throbber">';html+='  <div class="modal-throbber-wrapper">';html+=Drupal.CTools.Modal.currentSettings.throbber;html+='  </div>';html+='</div>';return html};Drupal.CTools.Modal.getSettings=function(object){var match=$(object).attr('class').match(/ctools-modal-(\S+)/);if(match)return match[1]};Drupal.CTools.Modal.clickAjaxCacheLink=function(){Drupal.CTools.Modal.show(Drupal.CTools.Modal.getSettings(this));return Drupal.CTools.AJAX.clickAJAXCacheLink.apply(this)};Drupal.CTools.Modal.clickAjaxLink=function(){Drupal.CTools.Modal.show(Drupal.CTools.Modal.getSettings(this));return false};Drupal.CTools.Modal.submitAjaxForm=function(e){var $form=$(this),url=$form.attr('action');setTimeout(function(){Drupal.CTools.AJAX.ajaxSubmit($form,url)},1);return false};Drupal.behaviors.ZZCToolsModal={attach:function(context){$('area.ctools-use-modal, a.ctools-use-modal',context).once('ctools-use-modal',function(){var $this=$(this);$this.click(Drupal.CTools.Modal.clickAjaxLink);var element_settings={};if($this.attr('href')){element_settings.url=$this.attr('href');element_settings.event='click';element_settings.progress={type:'throbber'}};var base=$this.attr('href');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings)});$('input.ctools-use-modal, button.ctools-use-modal',context).once('ctools-use-modal',function(){var $this=$(this);$this.click(Drupal.CTools.Modal.clickAjaxLink);var button=this,element_settings={};element_settings.url=Drupal.CTools.Modal.findURL(this);if(element_settings.url=='')element_settings.url=$(this).closest('form').attr('action');element_settings.event='click';element_settings.setClick=true;var base=$this.attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);$('.'+$(button).attr('id')+'-url').change(function(){Drupal.ajax[base].options.url=Drupal.CTools.Modal.findURL(button)})});$('#modal-content form',context).once('ctools-use-modal',function(){var $this=$(this),element_settings={};element_settings.url=$this.attr('action');element_settings.event='submit';element_settings.progress={type:'throbber'};var base=$this.attr('id');Drupal.ajax[base]=new Drupal.ajax(base,this,element_settings);Drupal.ajax[base].form=$this;$('input[type=submit], button',this).click(function(event){Drupal.ajax[base].element=this;this.form.clk=this;if(Drupal.autocompleteSubmit&&!Drupal.autocompleteSubmit())return false;if(jQuery.fn.jquery.substr(0,3)==='1.4'&&typeof event.bubbles==="undefined"){$(this.form).trigger('submit');return false}})});$('.ctools-close-modal',context).once('ctools-close-modal').click(function(){Drupal.CTools.Modal.dismiss();return false})}};Drupal.CTools.Modal.modal_display=function(ajax,response,status){if($('#modalContent').length==0)Drupal.CTools.Modal.show(Drupal.CTools.Modal.getSettings(ajax.element));$('#modal-title').html(response.title);$('#modal-content').html(response.output).scrollTop(0);var settings=response.settings||ajax.settings||Drupal.settings;Drupal.attachBehaviors($('#modalContent'),settings);if($('#modal-content').hasClass('ctools-modal-loading')){$('#modal-content').removeClass('ctools-modal-loading')}else $('#modal-content :focusable:first').focus()};Drupal.CTools.Modal.modal_dismiss=function(command){Drupal.CTools.Modal.dismiss();$('link.ctools-temporary-css').remove()};Drupal.CTools.Modal.modal_loading=function(command){Drupal.CTools.Modal.modal_display({output:Drupal.theme(Drupal.CTools.Modal.currentSettings.throbberTheme),title:Drupal.CTools.Modal.currentSettings.loadingText})};Drupal.CTools.Modal.findURL=function(item){var url='',url_class='.'+$(item).attr('id')+'-url';$(url_class).each(function(){var $this=$(this);if(url&&$this.val())url+='/';url+=$this.val()});return url};Drupal.CTools.Modal.modalContent=function(content,css,animation,speed,modalClass){if(!animation){animation='show'}else if(animation!='fadeIn'&&animation!='slideDown')animation='show';if(!speed&&0!==speed)speed='fast';css=jQuery.extend({position:'absolute',left:'0px',margin:'0px',background:'#000',opacity:'.55'},css);css.filter='alpha(opacity='+(100*css.opacity)+')';content.hide();if($('#modalBackdrop').length)$('#modalBackdrop').remove();if($('#modalContent').length)$('#modalContent').remove();if(self.pageYOffset){var wt=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){var wt=document.documentElement.scrollTop}else if(document.body)var wt=document.body.scrollTop;var docHeight=$(document).height()+50,docWidth=$(document).width(),winHeight=$(window).height(),winWidth=$(window).width();if(docHeight<winHeight)docHeight=winHeight;$('body').append('<div id="modalBackdrop" class="backdrop-'+modalClass+'" style="z-index: 1000; display: none;"></div><div id="modalContent" class="modal-'+modalClass+'" style="z-index: 1001; position: absolute;">'+$(content).html()+'</div>');var getTabbableElements=function(){var tabbableElements=$('#modalContent :tabbable'),radioButtons=tabbableElements.filter('input[type="radio"]');if(radioButtons.length>0){var anySelected={};radioButtons.each(function(){var name=this.name;if(typeof anySelected[name]==='undefined')anySelected[name]=radioButtons.filter('input[name="'+name+'"]:checked').length!==0});var found={};tabbableElements=tabbableElements.filter(function(){var keep=true;if(this.type=='radio')if(anySelected[this.name]){keep=this.checked}else{if(found[this.name])keep=false;found[this.name]=true};return keep})};return tabbableElements.get()};modalEventHandler=function(event){target=null;if(event){target=event.target}else{event=window.event;target=event.srcElement};var parents=$(target).parents().get();for(var i=0;i<parents.length;++i){var position=$(parents[i]).css('position');if(position=='absolute'||position=='fixed')return true};if($(target).is('#modalContent, body')||$(target).filter('*:visible').parents('#modalContent').length){return true}else getTabbableElements()[0].focus();event.preventDefault()};$('body').bind('focus',modalEventHandler);$('body').bind('keypress',modalEventHandler);modalTabTrapHandler=function(evt){if(evt.which!=9)return true;var tabbableElements=getTabbableElements(),firstTabbableElement=tabbableElements[0],lastTabbableElement=tabbableElements[tabbableElements.length-1],singleTabbableElement=firstTabbableElement==lastTabbableElement,node=evt.target;if(node==firstTabbableElement&&evt.shiftKey){if(!singleTabbableElement)lastTabbableElement.focus();return false}else if(node==lastTabbableElement&&!evt.shiftKey){if(!singleTabbableElement)firstTabbableElement.focus();return false}else if($.inArray(node,tabbableElements)==-1){var parents=$(node).parents().get();for(var i=0;i<parents.length;++i){var position=$(parents[i]).css('position');if(position=='absolute'||position=='fixed')return true};if(evt.shiftKey){lastTabbableElement.focus()}else firstTabbableElement.focus()}};$('body').bind('keydown',modalTabTrapHandler);var modalContent=$('#modalContent').css('top','-1000px'),$modalHeader=modalContent.find('.modal-header'),mdcTop=wt+Math.max((winHeight/2)-(modalContent.outerHeight()/2),0),mdcLeft=(winWidth/2)-(modalContent.outerWidth()/2);$('#modalBackdrop').css(css).css('top',0).css('height',docHeight+'px').css('width',docWidth+'px').show();modalContent.css({top:mdcTop+'px',left:mdcLeft+'px'}).hide()[animation](speed);modalContentClose=function(){close();return false};$('.close',$modalHeader).bind('click',modalContentClose);modalEventEscapeCloseHandler=function(event){if(event.keyCode==27){close();return false}};$(document).bind('keydown',modalEventEscapeCloseHandler);var oldFocus=document.activeElement;$('.close',$modalHeader).focus()
function close(){$(window).unbind('resize',modalContentResize);$('body').unbind('focus',modalEventHandler);$('body').unbind('keypress',modalEventHandler);$('body').unbind('keydown',modalTabTrapHandler);$('.close',$modalHeader).unbind('click',modalContentClose);$(document).unbind('keydown',modalEventEscapeCloseHandler);$(document).trigger('CToolsDetachBehaviors',$('#modalContent'));switch(animation){case'fadeIn':modalContent.fadeOut(speed,modalContentRemove);break;case'slideDown':modalContent.slideUp(speed,modalContentRemove);break;case'show':modalContent.hide(speed,modalContentRemove);break}};modalContentRemove=function(){$('#modalContent').remove();$('#modalBackdrop').remove();$(oldFocus).focus()};modalContentResize=function(){$('#modalBackdrop').css('height','').css('width','');if(self.pageYOffset){var wt=self.pageYOffset}else if(document.documentElement&&document.documentElement.scrollTop){var wt=document.documentElement.scrollTop}else if(document.body)var wt=document.body.scrollTop;var docHeight=$(document).height(),docWidth=$(document).width(),winHeight=$(window).height(),winWidth=$(window).width();if(docHeight<winHeight)docHeight=winHeight;var modalContent=$('#modalContent'),mdcTop=wt+Math.max((winHeight/2)-(modalContent.outerHeight()/2),0),mdcLeft=(winWidth/2)-(modalContent.outerWidth()/2);$('#modalBackdrop').css('height',docHeight+'px').css('width',docWidth+'px').show();modalContent.css('top',mdcTop+'px').css('left',mdcLeft+'px').show()};$(window).bind('resize',modalContentResize)};Drupal.CTools.Modal.unmodalContent=function(content,animation,speed){if(!animation){var animation='show'}else if((animation!='fadeOut')&&(animation!='slideUp'))animation='show';if(!speed)var speed='fast';$(window).unbind('resize',modalContentResize);$('body').unbind('focus',modalEventHandler);$('body').unbind('keypress',modalEventHandler);$('body').unbind('keydown',modalTabTrapHandler);var $modalContent=$('#modalContent'),$modalHeader=$modalContent.find('.modal-header');$('.close',$modalHeader).unbind('click',modalContentClose);$('body').unbind('keypress',modalEventEscapeCloseHandler);$(document).trigger('CToolsDetachBehaviors',$modalContent);content.each(function(){if(animation=='fade'){$('#modalContent').fadeOut(speed,function(){$('#modalBackdrop').fadeOut(speed,function(){$(this).remove()});$(this).remove()})}else if(animation=='slide'){$('#modalContent').slideUp(speed,function(){$('#modalBackdrop').slideUp(speed,function(){$(this).remove()});$(this).remove()})}else{$('#modalContent').remove();$('#modalBackdrop').remove()}})};$(function(){Drupal.ajax.prototype.commands.modal_display=Drupal.CTools.Modal.modal_display;Drupal.ajax.prototype.commands.modal_dismiss=Drupal.CTools.Modal.modal_dismiss})})(jQuery);;/*})'"*/
(function($){$(document).ready(function(){$('.view-id-product_gallery .product-image-list .views-field-field-product-image').on('click',function(e){$('.field-name-field-product-image .carousel').carousel($(this).closest('.row').find('.product-image-list .views-field').index(this))});var thumbImages=$('.single-product__slider .field-name-field-image-list .row .views-field');if($(thumbImages).length!=0)$(thumbImages).each(function(i,img){if(i==0)$(img).addClass('is-active')});$(thumbImages).click(function(){$(thumbImages).each(function(i,img){$(img).removeClass('is-active')});$(this).addClass('is-active')});$('.js-single-product__specification-list').children('li:gt(4)').hide();$('.js-single-product__specification-show-more').click(function(){$('.js-single-product__specification-list').children().show();$(this).hide();$('.js-single-product__specification-show-less').show()});$('.js-single-product__specification-show-less').click(function(){$('.js-single-product__specification-list').children('li:gt(4)').hide();$(this).hide();$('.js-single-product__specification-show-more').show()})})}(jQuery));;/*})'"*/
(function ($) {
  Drupal.behaviors.favoriteProduct = {
    attach: function (context, settings) {
      $(document).ready(function () {

        /*
        * Fetch all favoured products and set active class
        */
        $.ajax({
          url: "/ajax/product/favorite",
          type: "GET"
        }).done(function(data) {
          for (var nid in data.nids) {
            let selector = '.js-product-favorite[data-product-id=' + nid + ']';
            $(selector).addClass('product-favorite--active');
          }

          if (data.product_count > 0) {
            $('.header__icon--favourite').addClass('header__icon--has-favourites');
          }
        });
      });
    }
  }
}(jQuery));

;/*})'"*/
;/*})'"*/
(function($){Drupal.behaviors.dataLayer={langPrefixes:function langPrefixes(){var languages=Drupal.settings.dataLayer.languages,langList=[];for(var lang in languages)if(languages[lang].prefix!=='')langList.push(languages[lang].prefix);return langList},attach:function(){return}}})(jQuery);;/*})'"*/
(function($){$(document).ready(function(){$('a.scroll-to-anchor[href*="#"]:not([href="#"])').click(function(){if(location.pathname.replace(/^\//,'')==this.pathname.replace(/^\//,'')&&location.hostname==this.hostname){var target=$(this.hash);target=target.length?target:$('[name='+this.hash.slice(1)+']');if(target.length){$('html, body').animate({scrollTop:target.offset().top-20},800);if(history.pushState){history.pushState(null,null,target.selector)}else location.hash=target.selector;return false}}});var API=$("#mmenu_left").data("mmenu"),mmenuCloseMarkup='<div class="mmenu_xclose"><a class="mmenu_xclose_anchor pull-right">×</a>';'</div>';$(mmenuCloseMarkup).insertBefore("#mmenu_left");$('#mobile-side-menu').click(function(){$('.mmenu_xclose').addClass('show')});$('body').on('click mousedown touchstart','.mmenu_xclose_anchor',function(){$('.mmenu_xclose').removeClass('show');$('html').removeClass("mm-opened mm-blocking");API.close()});$('.mm-slideout').on('click mousedown touchstart',function(){$('.mmenu_xclose').removeClass('show');$('html').removeClass("mm-opened mm-blocking");API.close()})})}(jQuery));;/*})'"*/
